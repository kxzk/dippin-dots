#!/usr/bin/env bash

p2() {
    # Get the number of powers to print (default to 10 if not provided)
    local max_power=${1:-20}

    # Validate input
    if ! [[ "$max_power" =~ ^[0-9]+$ ]]; then
        echo "Error: Please provide a valid positive number"
        return 1
    fi

    # Calculate and print each power of 2
    for i in $(seq 0 "$max_power"); do
        local result=$((2**i))
        printf "2^%d = %d\n" "$i" "$result"
    done
}

p2
